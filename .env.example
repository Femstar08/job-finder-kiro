# Job Finder - Complete Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# ENVIRONMENT
# =============================================================================
NODE_ENV=development
PORT=3001

# =============================================================================
# DATABASE CONFIGURATION (SUPABASE ONLY)
# =============================================================================
# Get these from your Supabase project: Settings > API
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Option 1: Local Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Option 2: Upstash Redis (Recommended for production)
# REDIS_URL=rediss://default:your-password@your-endpoint.upstash.io:6380

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Or: openssl rand -hex 64
JWT_SECRET=your-generated-jwt-secret-64-characters-long-here
JWT_EXPIRES_IN=7d

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_RATE_LIMIT_WINDOW=15
API_RATE_LIMIT_MAX=100
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# EMAIL CONFIGURATION (BREVO)
# =============================================================================
# Sign up at https://www.brevo.com for free email/SMS service
BREVO_API_KEY=your-brevo-api-key
BREVO_SENDER_EMAIL=noreply@yourdomain.com
BREVO_SENDER_NAME=Job Finder
BREVO_SMS_SENDER=JobFinder

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
FRONTEND_URL=http://localhost:3000
VITE_API_BASE_URL=http://localhost:3001
VITE_APP_NAME=Job Finder
VITE_ENABLE_ANALYTICS=false

# =============================================================================
# N8N WORKFLOW INTEGRATION
# =============================================================================
N8N_BASE_URL=https://n8n.beaconledger.com/
N8N_WEBHOOK_SECRET=your-n8n-webhook-secret
N8N_API_TOKEN=your-n8n-api-token
# =============================================================================
# JOB SCRAPING CONFIGURATION
# =============================================================================
MAX_JOBS_PER_SITE=50
SCRAPING_DELAY_MS=2000
REQUESTS_PER_MINUTE=30
CONCURRENT_REQUESTS=3

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=debug
ENABLE_DEBUG_LOGS=true
ENABLE_METRICS=true
METRICS_PORT=9090

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_DUPLICATE_DETECTION=true
ENABLE_SMART_MATCHING=true
ENABLE_SUPABASE_AUTH=false

# =============================================================================
# PRODUCTION CONFIGURATION (for deployment)
# =============================================================================
# Uncomment and configure these for production deployment

# Production URLs
# BACKEND_URL=https://api.yourdomain.com
# FRONTEND_URL=https://yourdomain.com
# N8N_HOST=n8n.yourdomain.com

# SSL Configuration
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Monitoring
# GRAFANA_ADMIN_PASSWORD=your-grafana-password
# PROMETHEUS_RETENTION=30d

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# 1. Generate JWT Secret:
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# 2. Set up Supabase:
#    - Create project at https://supabase.com
#    - Get URL and API keys from Settings > API
#    - Run SQL from packages/backend/src/database/init.sql in SQL Editor
#
# 3. Set up Brevo (Email/SMS):
#    - Sign up at https://www.brevo.com
#    - Get API key from Settings > SMTP & API
#
# 4. Set up Redis (Optional):
#    - Use local Redis or Upstash (https://upstash.com)
#
# 5. Import N8N Workflow:
#    - Use packages/n8n-workflow/job-finder-workflow-clean.json
#
# =============================================================================